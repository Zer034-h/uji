<!DOCTYPE html>
<html>
<head>
  <title>Kontrol ESP32 via MQTT</title>
  <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
</head>
<body>
  <h2>Kontrol LED ESP32</h2>
  <button onclick="kirimPesan('ON')">Nyalakan LED</button>
  <button onclick="kirimPesan('OFF')">Matikan LED</button>

  <script>
    // Koneksi ke broker MQTT HiveMQ
    const client = mqtt.connect("wss://broker.hivemq.com:8884/mqtt");

    client.on("connect", function () {
      console.log("Terhubung ke MQTT Broker");
    });

    function kirimPesan(pesan) {
      client.publish("esp32/control", pesan);
      console.log("Mengirim:", pesan);
    }
  </script>
</body>
</html>